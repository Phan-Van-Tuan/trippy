<app-banner text="Register"></app-banner>
<div class="mt-20 max-w-[500px] w-full m-auto p-5 pb-20 flex justify-center">
  <form class="bg-slate-100 p-10 w-full" nz-form>
    <div class="w-full flex justify-center flex-col">
      <span class="font-bold text-2xl block m-auto">Register</span>
      <!-- Username -->
      <div class="flex flex-col">
        <label class="mt-5 text-xl flex items-start" for=""
          >User name
          <fa-icon
            class="text-[5px] text-red-600 fill-red-600 ml-2"
            [icon]="faStarOfLife"
          ></fa-icon>
        </label>
        <input
          (blur)="handleValidate(username.value, 'username')"
          class="mt-2 h-11 p-2 rounded-md outline-primary"
          type="text"
          #username
          placeholder="Username"
        />
        <span class="text-xs text-red-500" *ngIf="userNameMessage">
          Username {{ userNameMessage }}
        </span>
      </div>

      <!-- //Email -->
      <div class="flex flex-col">
        <label class="mt-5 text-xl flex items-start" for=""
          >Email
          <fa-icon
            class="text-[5px] text-red-600 fill-red-600 ml-2"
            [icon]="faStarOfLife"
          ></fa-icon>
        </label>
        <input
          (blur)="handleValidate(email.value, 'email')"
          class="mt-2 h-11 p-2 rounded-md outline-primary"
          type="email"
          #email
          placeholder="Email"
        />
      </div>
      <span class="text-xs text-red-500" *ngIf="emailMessage">
        Email {{ emailMessage }}
      </span>

      <!-- Password -->
      <div class="flex flex-col">
        <label class="mt-5 text-xl flex items-start" for=""
          >Password
          <fa-icon
            class="text-[5px] text-red-600 fill-red-600 ml-2"
            [icon]="faStarOfLife"
          ></fa-icon>
        </label>
        <input
          (blur)="handleValidate(password.value, 'password')"
          class="mt-2 h-11 p-2 rounded-md outline-primary"
          type="password"
          #password
          placeholder="Password"
        />
        <span class="text-xs text-red-500" *ngIf="passwordMessage">
          Password {{ passwordMessage }}
        </span>
      </div>

      <!-- Confirm -->
      <div class="flex flex-col">
        <label class="mt-5 text-xl flex items-start" for=""
          >Confirm Password
          <fa-icon
            class="text-[5px] text-red-600 fill-red-600 ml-2"
            [icon]="faStarOfLife"
          ></fa-icon>
        </label>
        <input
          class="mt-2 h-11 p-2 rounded-md outline-primary"
          type="password"
          (blur)="confirmPwd(password.value, confirmPassword.value)"
          #confirmPassword
          placeholder="Confirm password"
        />
        <span class="text-xs text-red-500" *ngIf="confirmPasswordMessage">
          {{ confirmPasswordMessage }}
        </span>
      </div>
      <!-- Role -->
      <section *ngIf="roles$ | async as roles">
        <div *ngFor="let role of roles">
          <div *ngIf="role.code !== RoleCode.ADMIN">
            <input type="radio" name="role" />
            <label>{{ role.name | titlecase }}</label>
          </div>
        </div>
      </section>

      <button
        *ngIf="
          !userNameMessage &&
            !emailMessage &&
            !passwordMessage &&
            !confirmPasswordMessage;
          else blockButton
        "
        class="m-auto min-w-[100px] hover:bg-primaryhover duration-300 transition-all h-10 text-lg bg-primary text-white font-semibold rounded-lg mt-5"
      >
        Sign up
      </button>

      <ng-template #blockButton>
        <button
          disabled
          class="m-auto min-w-[100px] cursor-no-drop h-10 text-lg border border-solid border-black text-black font-semibold rounded-lg mt-5"
        >
          Sign up
        </button>
      </ng-template>

      <span class="mt-4"
        >If you have an account,
        <span
          class="font-semibold text-lg text-primary cursor-pointer"
          [routerLink]="['/login']"
          routerLinkActive="router-link-active"
          >Sign in</span
        >
      </span>
    </div>
  </form>
</div>
<app-bannerBot></app-bannerBot>
